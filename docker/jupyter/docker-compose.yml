
version: "3.3"

services:
  db:
    image: postgres
    restart: always
    environment:
      POSTGRES_USER: gopher
      POSTGRES_PASSWORD: 1111
      LANGUAGE: "C.UTF-8"
      LANG: "C.UTF-8"
      LC_ALL: "C.UTF-8"
      LC_COLLATE: "C"
      LC_TIME: "C.UTF-8"

#      LANGUAGE: "en_US.UTF-8"
#      LANG: "en_US.UTF-8"
#      LC_ALL: "en_US.UTF-8"
    ports:
      - "5432:5432"
  adminer:
    image: adminer
    restart: always
    ports:
      - "8889:8080"
  jupyter:
    build:
      context: .
    ports:
      - "8888:8888"
    # dockertoolbox only mount c:/Users
    # so many hours wasted Jesus.
    # https://github.com/docker/kitematic/issues/2738
    volumes:
        - C:\Users\baram204\dev\lgo\mlgo_execercise:/mlgo_execercise
        - C:\Users\baram204\dev\lgo\jupyter\config:/home/gopher/.jupyter
    container_name: mlgo
    links:
      - db
    environment:
      # protocol://user:psss@server:port/database?option=value
      - PGURL="postgres://gopher:1111@db:5432/gopher?sslmode=disable"

# comment original. cause that's now working on windonws 10 environment.

#    source:
#    - type: "bind"
#      source: ./../../examples
#      target: /examples
